Overview

This project implements a multi-sensor environmental monitoring system using an ESP32 microcontroller. It reads data from multiple sensors, processes it, and provides real-time monitoring through both a web dashboard and a JSON API.

The system is designed to be robust, with auto-reconnection, data validation, and warning notifications for critical conditions.

Features

Monitors environmental, motion, and soil/snow moisture data:

BMP280: Temperature, Atmospheric Pressure, Altitude

MPU6050: Accelerometer, Gyroscope, Temperature

HD-38: Soil/Snow Moisture

Web Dashboard: Displays all sensor readings with color-coded warning statuses

JSON API: Provides structured sensor data for integration with other applications

Dual WiFi Mode: Connects to existing WiFi network (Station) or creates a backup Access Point

Warning System: Alerts for disconnected sensors or threshold violations (temperature, pressure, moisture)

Auto-Reconnection: Sensors are automatically reinitialized if disconnected

How It Works

Initialization

ESP32 initializes I2C bus and sensor objects (BMP280, MPU6050)

WiFi connection is attempted; if failed, a local Access Point is started

Web server is set up with two routes:

/ → HTML dashboard

/json → JSON data for API

Sensor Reading

BMP280: Reads temperature, pressure, and calculates altitude. Uses forced measurement mode for power efficiency.

MPU6050: Reads acceleration, rotation, and internal temperature. Ensures readings are within valid ranges.

HD-38: Reads analog soil/snow moisture and converts raw ADC values to percentage using calibration constants.

Data Validation & Warning System

Sensor readings are validated against physical limits

If readings are invalid or sensors disconnect, the system sets values to N/A or null

Warnings are generated for thresholds (e.g., high temperature, low pressure, dry snow)

Web Dashboard & API

HTML dashboard auto-refreshes every 3 seconds, displaying sensor values and current status

JSON API outputs all sensor readings and warnings in a structured format for external use

Continuous Loop

Sensor readings are updated every 2 seconds

Web server handles client requests

Current sensor status is logged to Serial Monitor

Requirements

Hardware:

ESP32 (S2 recommended)

BMP280 sensor

MPU6050 sensor

HD-38 analog soil/snow moisture sensor

Breadboard and connecting wires

Software:

Arduino IDE or PlatformIO

Libraries:

Wire.h

Adafruit_BMP280.h

Adafruit_MPU6050.h

Adafruit_Sensor.h

WiFi.h

WebServer.h

Setup

Connect sensors to ESP32 using I2C (SDA/SCL pins) and analog input for HD-38.

Update WiFi credentials (STA_SSID and STA_PASS) in the code.

Upload the code to the ESP32.

Open Serial Monitor to view debug logs.

Access the web dashboard via ESP32 IP address or AP mode.
